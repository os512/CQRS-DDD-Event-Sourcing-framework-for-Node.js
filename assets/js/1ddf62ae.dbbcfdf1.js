"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7612],{5318:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>g});var a=n(7378);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=a.createContext({}),l=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},d=function(e){var t=l(e.components);return a.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,p=e.parentName,d=r(e,["components","mdxType","originalType","parentName"]),c=l(n),g=o,h=c["".concat(p,".").concat(g)]||c[g]||m[g]||i;return n?a.createElement(h,s(s({ref:t},d),{},{components:n})):a.createElement(h,s({ref:t},d))}));function g(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,s=new Array(i);s[0]=c;var r={};for(var p in t)hasOwnProperty.call(t,p)&&(r[p]=t[p]);r.originalType=e,r.mdxType="string"==typeof e?e:o,s[1]=r;for(var l=2;l<i;l++)s[l]=n[l];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},8854:(e,t,n)=>{n.r(t),n.d(t,{frontMatter:()=>r,contentTitle:()=>p,metadata:()=>l,toc:()=>d,default:()=>c});var a=n(2685),o=n(1244),i=(n(7378),n(5318)),s=["components"],r={id:"tutorial",title:"Step-by-Step Tutorial",description:"This document provides a step-by-step tutorial for the reSolve framework. Throughout this tutorial, you will iteratively develop a ShoppingList application and learn fundamental concepts of the reSolve framework."},p=void 0,l={unversionedId:"tutorial",id:"tutorial",isDocsHomePage:!1,title:"Step-by-Step Tutorial",description:"This document provides a step-by-step tutorial for the reSolve framework. Throughout this tutorial, you will iteratively develop a ShoppingList application and learn fundamental concepts of the reSolve framework.",source:"@site/../docs/tutorial.md",sourceDirName:".",slug:"/tutorial",permalink:"/resolve/docs/tutorial",tags:[],version:"current",frontMatter:{id:"tutorial",title:"Step-by-Step Tutorial",description:"This document provides a step-by-step tutorial for the reSolve framework. Throughout this tutorial, you will iteratively develop a ShoppingList application and learn fundamental concepts of the reSolve framework."},sidebar:"docs",previous:{title:"Introduction",permalink:"/resolve/docs/"},next:{title:"Write Side",permalink:"/resolve/docs/write-side"}},d=[{value:"Table of Contents",id:"table-of-contents",children:[],level:2},{value:"<strong>Preparation</strong> - Create a New reSolve Application",id:"preparation---create-a-new-resolve-application",children:[{value:"npm:",id:"npm",children:[],level:5},{value:"npx:",id:"npx",children:[],level:5},{value:"yarn:",id:"yarn",children:[],level:5}],level:2},{value:"<strong>Lesson 1</strong> - Write side - Add Shopping Lists",id:"lesson-1---write-side---add-shopping-lists",children:[{value:"Create an Aggregate",id:"create-an-aggregate",children:[],level:3},{value:"Sending Commands to an Aggregate",id:"sending-commands-to-an-aggregate",children:[],level:3},{value:"Input Validation",id:"input-validation",children:[],level:3}],level:2},{value:"<strong>Lesson 2</strong> - Read side - Create a Read Model to Query Shopping Lists",id:"lesson-2---read-side---create-a-read-model-to-query-shopping-lists",children:[{value:"Add a Read Model",id:"add-a-read-model",children:[{value:"Used API:",id:"used-api",children:[],level:5},{value:"Used configuration options:",id:"used-configuration-options",children:[],level:5},{value:"Used API:",id:"used-api-1",children:[],level:5}],level:3},{value:"Query a Read Model",id:"query-a-read-model",children:[],level:3}],level:2},{value:"<strong>Lesson 3</strong> - Frontend - Display Read Model Data in the Browser",id:"lesson-3---frontend---display-read-model-data-in-the-browser",children:[{value:"Implement the Client Application",id:"implement-the-client-application",children:[{value:"Used API:",id:"used-api-2",children:[],level:5}],level:3},{value:"Configure the Entry Point",id:"configure-the-entry-point",children:[],level:3},{value:"Register the Entry Point",id:"register-the-entry-point",children:[],level:3}],level:2},{value:"<strong>Lesson 4</strong> - Read Side - Create a View Model to Query Shopping List Items",id:"lesson-4---read-side---create-a-view-model-to-query-shopping-list-items",children:[{value:"Create a Shopping List View Model",id:"create-a-shopping-list-view-model",children:[],level:3},{value:"Query A View Model",id:"query-a-view-model",children:[],level:3},{value:"Display View Model Data on the Client",id:"display-view-model-data-on-the-client",children:[{value:"Used API:",id:"used-api-3",children:[],level:5}],level:3},{value:"Implement Navigation",id:"implement-navigation",children:[],level:3}],level:2},{value:"<strong>Lesson 5</strong> - Enable Editing",id:"lesson-5---enable-editing",children:[{value:"Modify the Backend",id:"modify-the-backend",children:[{value:"Add Data Editing Events",id:"add-data-editing-events",children:[],level:4},{value:"Modify the ShoppingList Aggregate",id:"modify-the-shoppinglist-aggregate",children:[],level:4},{value:"Modify the ShoppingLists Read Model",id:"modify-the-shoppinglists-read-model",children:[],level:4},{value:"Modify the shopping_list View Model",id:"modify-the-shopping_list-view-model",children:[],level:4}],level:3},{value:"Modify the Frontend",id:"modify-the-frontend",children:[{value:"Used API:",id:"used-api-4",children:[],level:5},{value:"Used API:",id:"used-api-5",children:[],level:5},{value:"Used API:",id:"used-api-6",children:[],level:5},{value:"Used API:",id:"used-api-7",children:[],level:5}],level:3}],level:2}],m={toc:d};function c(e){var t=e.components,r=(0,o.Z)(e,s);return(0,i.kt)("wrapper",(0,a.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This document provides a step-by-step tutorial for the reSolve framework.\nThroughout this tutorial, you will iteratively develop a ShoppingList application and learn fundamental concepts of the reSolve framework."),(0,i.kt)("p",null,"We recommend that your familiarize yourself with basics of event sourcing and CQRS before you start this tutorial. You can find a curated list of resources in the ",(0,i.kt)("a",{parentName:"p",href:"/resolve/docs/faq"},"FAQ"),"."),(0,i.kt)("h2",{id:"table-of-contents"},"Table of Contents"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#preparation---create-a-new-resolve-application"},"Preparation - Create a New reSolve Application")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#lesson-1---write-side---add-shopping-lists"},"Lesson 1 - Write side - Add Shopping Lists")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#lesson-2---read-side---create-a-read-model-to-query-shopping-lists"},"Lesson 2 - Read side - Create a Read Model to Query Shopping Lists")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#lesson-3---frontend---display-read-model-data-in-the-browser"},"Lesson 3 - Frontend - Display Read Model Data in the Browser")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#lesson-4---read-side---create-a-view-model-to-query-shopping-list-items"},"Lesson 4 - Read Side - Create a View Model to Query Shopping List Items")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#lesson-5---enable-editing"},"Lesson 5 - Enable Editing"))),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"preparation---create-a-new-resolve-application"},(0,i.kt)("strong",{parentName:"h2"},"Preparation")," - Create a New reSolve Application"),(0,i.kt)("p",null,"Use the ",(0,i.kt)("strong",{parentName:"p"},"create-resolve-app")," tool to create a new reSolve application:"),(0,i.kt)("h5",{id:"npm"},"npm:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"$ npm i -g create-resolve-app\n$ create-resolve-app shopping-list\n")),(0,i.kt)("h5",{id:"npx"},"npx:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"$ npx create-resolve-app shopping-list\n")),(0,i.kt)("h5",{id:"yarn"},"yarn:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"$ yarn create resolve-app shopping-list\n")),(0,i.kt)("p",null,"After this, a minimal reSolve application is ready. To run it in development mode, type:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"$ cd shopping-list\n$ yarn run dev\n")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"lesson-1---write-side---add-shopping-lists"},(0,i.kt)("strong",{parentName:"h2"},"Lesson 1")," - Write side - Add Shopping Lists"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/reimagined/resolve/tree/master/tutorial/lesson-1"},"[","Get the Code for This Lesson","]")),(0,i.kt)("p",null,"This lesson describes how to implement a write side for a reSolve application. An application's ",(0,i.kt)("a",{parentName:"p",href:"/resolve/docs/app-structure#write-and-read-sides"},"write side")," handles commands, validates input data, and emits ",(0,i.kt)("strong",{parentName:"p"},"events")," based on valid commands. The framework then saves the emitted events to the ",(0,i.kt)("strong",{parentName:"p"},"event store"),"."),(0,i.kt)("h3",{id:"create-an-aggregate"},"Create an Aggregate"),(0,i.kt)("p",null,"Define types of events that the write side can produce. Create an ",(0,i.kt)("strong",{parentName:"p"},"eventTypes.js")," file in the project's ",(0,i.kt)("strong",{parentName:"p"},"common")," folder and add the following content to it:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"common/eventTypes.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"export const SHOPPING_LIST_CREATED = 'SHOPPING_LIST_CREATED' // Indicates the creation of a shopping list\nexport const SHOPPING_ITEM_CREATED = 'SHOPPING_ITEM_CREATED' // Indicates the creation of an item within a shopping list\n")),(0,i.kt)("p",null,"Next, define an aggregate that handles commands and produces the defined events as a result. Create a ",(0,i.kt)("strong",{parentName:"p"},"shopping_list.commands.js")," file in the ",(0,i.kt)("strong",{parentName:"p"},"common/aggregates")," folder and add the following code to it:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"common/aggregates/shopping_list.commands.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import { SHOPPING_LIST_CREATED, SHOPPING_ITEM_CREATED } from '../eventTypes'\n\n// This file exports an object that contains two command handlers.\nexport default {\n  // A command handler receives the aggregate state and a command payload.\n  // A payload can contain arbitrary data related to the command.\n  // For example, the \"createShoppingList\" command's payload contains the shopping list's name.\n  createShoppingList: (state, { payload: { name } }) => {\n    return {\n      type: SHOPPING_LIST_CREATED,\n      payload: { name },\n    }\n  },\n  // The \"createShoppingItem\" command's payload contains an item's ID and display text.\n  createShoppingItem: (state, { payload: { id, text } }) => {\n    return {\n      type: SHOPPING_ITEM_CREATED,\n      payload: { id, text },\n    }\n  },\n}\n")),(0,i.kt)("p",null,"A command handler returns an ",(0,i.kt)("strong",{parentName:"p"},"event")," object. This object should contain the following fields:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"type")," - specifies the event's type;"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"payload")," - specifies data associated with the event.")),(0,i.kt)("p",null,"The reSolve framework saves produced events to a persistent ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/resolve/docs/write-side#event-store"},"event store")),". A newly created application is configured to use a SQLite event store. We suggest that you keep this configuration throughout the tutorial. For information on how to use other storage types, see the following documentation topics:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/reimagined/resolve/blob/master/docs/advanced-techniques.md#adapters"},"Adapters")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/reimagined/resolve/blob/master/docs/preparing-to-production.md#configuring-adapters"},"Configuring Adapters"))),(0,i.kt)("p",null,"The last step is to register the implemented aggregate in the application's configuration file. To do this, open the ",(0,i.kt)("strong",{parentName:"p"},"config.app.js")," file and specify the following settings in the ",(0,i.kt)("strong",{parentName:"p"},"aggregates")," configuration section:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"config.app.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"...\naggregates: [\n  {\n    // The aggregate name\n    name: 'ShoppingList',\n    // A path to the file that defines the aggregate's command handlers\n    commands: 'common/aggregates/shopping_list.commands.js',\n  }\n],\n...\n")),(0,i.kt)("h3",{id:"sending-commands-to-an-aggregate"},"Sending Commands to an Aggregate"),(0,i.kt)("p",null,"Now that your application can handle commands, you can use the reSolve framework's HTTP API to create shopping lists and populate them with items."),(0,i.kt)("p",null,"A request's body should have the ",(0,i.kt)("inlineCode",{parentName:"p"},"application/json")," content type and contain a JSON representation of a command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'{\n  "aggregateName": "ShoppingList",\n  "type": "createShoppingList",\n  "aggregateId": "shopping-list-1",\n  "payload": {\n    "name": "Item 1"\n  }\n}\n')),(0,i.kt)("p",null,"In addition to the aggregate name, command type and payload, this object specifies the aggregate's ID."),(0,i.kt)("p",null,"Run your application and send a POST request to the following URL:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"http://127.0.0.1:3000/api/commands\n")),(0,i.kt)("p",null,"You can use any REST client or ",(0,i.kt)("strong",{parentName:"p"},"curl")," to do this. For example, use the following console input to create a shopping list:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},'curl -i http://localhost:3000/api/commands/ \\\n--header "Content-Type: application/json" \\\n--data \'\n{\n  "aggregateName": "ShoppingList",\n  "aggregateId": "shopping-list-1",\n  "type": "createShoppingList",\n  "payload": {\n    "name": "List 1"\n  }\n}\n\'\n\nX-Powered-By: Express\nContent-Type: text/plain; charset=utf-8\nDate: Wed, 21 Oct 2020 09:53:03 GMT\nConnection: keep-alive\nContent-Length: 169\n\n{\n  "aggregateId": "shopping-list-1",\n  "aggregateVersion": 1,\n  "timestamp": 1603273983423,\n  "type": "SHOPPING_LIST_CREATED",\n  "payload": {\n    "name": "List 1"\n  }\n}\n')),(0,i.kt)("p",null,"Use the console input shown below to add an item to the created shopping list:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},'curl -i http://localhost:3000/api/commands/ \\\n--header "Content-Type: application/json" \\\n--data \'\n{\n  "aggregateName": "ShoppingList",\n  "aggregateId": "shopping-list-1",\n  "type": "createShoppingItem",\n  "payload": {\n    "id": "1",\n    "text": "Milk"\n  }\n}\n\'\n\nX-Powered-By: Express\nContent-Type: text/plain; charset=utf-8\nDate: Wed, 21 Oct 2020 09:53:57 GMT\nConnection: keep-alive\nContent-Length: 182\n\n{\n  "aggregateId": "shopping-list-1",\n  "aggregateVersion": 2,\n  "timestamp": 1603274037307,\n  "type": "SHOPPING_ITEM_CREATED",\n  "payload": {\n    "id": "1",\n    "text": "Milk"\n  }\n}\n')),(0,i.kt)("p",null,"You can now check the event store database to see the newly created events. To do this, use the ",(0,i.kt)("a",{parentName:"p",href:"https://sqlite.org/cli.html"},"Command Line Shell For SQLite")," or any database management tool compatible with SQLite:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},'sqlite3 data/event-store.db\nsqlite> select * from events;\n40|0|1603273983433|shopping-list-1|1|SHOPPING_LIST_CREATED|{"name":"List 1"}\n147|0|1603274037313|shopping-list-1|2|SHOPPING_ITEM_CREATED|{"id":"1","text":"Milk"}\n')),(0,i.kt)("h3",{id:"input-validation"},"Input Validation"),(0,i.kt)("p",null,"Your application's write side currently does not validate input data. This results in the following issues:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The command handlers do not check whether all required fields are in a command's payload."),(0,i.kt)("li",{parentName:"ul"},"It is possible to create more then one shopping list with the same aggregate ID."),(0,i.kt)("li",{parentName:"ul"},"You can create items in a nonexistent shopping list.")),(0,i.kt)("p",null,"To overcome the first issue, add checks at the beginning of each command handler:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"common/aggregates/shopping_list.commands.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"createShoppingList: (state, { payload: { name } }) => {\n  if (!name) throw new Error('The \"name\" field is required');\n  ...\n},\ncreateShoppingItem: (state, { payload: { id, text } }) => {\n  if (!id) throw new Error('The \"id\" field is required')\n  if (!text) throw new Error('The \"text\" field is required')\n  ...\n}\n")),(0,i.kt)("p",null,"To overcome the second and third issues, you need to have an ",(0,i.kt)("strong",{parentName:"p"},"aggregate state")," object that keeps track of what shopping lists were already created. An aggregate ",(0,i.kt)("strong",{parentName:"p"},"projection")," assembles such an object from previously created events with the same aggregate ID. To add a projection to the ShoppingList aggregate, create a ",(0,i.kt)("strong",{parentName:"p"},"shopping_list.projection.js")," file in the ",(0,i.kt)("strong",{parentName:"p"},"common/aggregates")," folder and add the following code to this file:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"common/aggregates/shopping_list.projection.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import { SHOPPING_LIST_CREATED } from '../eventTypes'\n\nexport default {\n  // The Init function initializes a state object\n  Init: () => ({}),\n  // A projection function updates the state based on events.\n  // Each function is associated with a single event type.\n  // A projection function receives the state and an event, and returns the updated state.\n  [SHOPPING_LIST_CREATED]: (state, { timestamp }) => ({\n    ...state,\n    createdAt: timestamp, // Add an event's timestamp to the state.\n  }),\n}\n")),(0,i.kt)("p",null,"Register the projection in the application's configuration file:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"config.app.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'aggregates: [\n  {\n    name: "ShoppingList",\n    commands: "common/aggregates/shopping_list.commands.js",\n    // A path to the file that defines the projection\n    projection: "common/aggregates/shopping_list.projection.js"\n  }\n],\n')),(0,i.kt)("p",null,"You can use the state assembled by a projection on the write side to find out whether and when a shopping list was created for the current aggregate instance (an instance that the current aggregate ID identifies)."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"common/aggregates/shopping_list.commands.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"createShoppingList: (state, { payload: { name } }) => {\n  if (state.createdAt) throw new Error('Shopping list already exists');\n  ...\n},\ncreateShoppingItem: (state, { payload: { id, text } }) => {\n  if (!state || !state.createdAt) {\n    throw new Error('Shopping list does not exist');\n  }\n  ...\n}\n")),(0,i.kt)("p",null,"You can send faulty commands to your aggregate to check whether the validation works as intended:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},'# Trying to create a shopping list without specifying the name\n$ curl -i http://localhost:3000/api/commands/ \\\n> --header "Content-Type: application/json" \\\n> --data \'\n> {\n>     "aggregateName": "ShoppingList",\n>     "aggregateId": "shopping-list-2",\n>     "type": "createShoppingList",\n>     "payload": { }\n> }\n> \'\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   164  100    31  100   133    142    610 --:--:-- --:--:-- --:--:--   655HTTP/1.1 500 Internal Server Error\nX-Powered-By: Express\nDate: Thu, 22 Nov 2018 11:14:10 GMT\nConnection: keep-alive\nContent-Length: 31\n\nCommand error: name is required\n')),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"lesson-2---read-side---create-a-read-model-to-query-shopping-lists"},(0,i.kt)("strong",{parentName:"h2"},"Lesson 2")," - Read side - Create a Read Model to Query Shopping Lists"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/reimagined/resolve/tree/master/tutorial/lesson-2"},"[","Get the Code for This Lesson","]")),(0,i.kt)("p",null,"Currently, your shopping list application has a write side that allows you to create shopping lists and add items to these lists. To obtain this data from the application, you need to implement the application's ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/resolve/docs/app-structure#write-and-read-sides"},"read side")),"."),(0,i.kt)("h3",{id:"add-a-read-model"},"Add a Read Model"),(0,i.kt)("p",null,"Add a ",(0,i.kt)("strong",{parentName:"p"},"ShoppingLists")," ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/resolve/docs/read-side#read-models"},"Read Model"))," to your application. A Read Model receives events and populates a persistent store based on event data. It uses the collected data to answer data queries."),(0,i.kt)("p",null,"Follow the steps below to implement a ",(0,i.kt)("strong",{parentName:"p"},"ShoppingLists")," Read Model."),(0,i.kt)("p",null,"First, define a Read Model ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/resolve/docs/read-side#updating-a-read-model-via-projection-functions"},"projection")),". Create a ",(0,i.kt)("strong",{parentName:"p"},"shopping_list.projection.js")," file in the ",(0,i.kt)("strong",{parentName:"p"},"read-models")," folder and add the following code to this file:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"common/read-models/shopping_lists.projection.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"// A Read Model projection describes logic used to collect data from incoming events.\nimport { SHOPPING_LIST_CREATED } from '../eventTypes'\n\nexport default {\n  // The 'Init' function initializes the store (defines tables and their fields).\n  Init: async (store) => {\n    await store.defineTable('ShoppingLists', {\n      indexes: {\n        id: 'string',\n      },\n      fields: ['createdAt', 'name'],\n    })\n  },\n  // A projection function runs once for every event of the specified type.\n  [SHOPPING_LIST_CREATED]: async (\n    store,\n    { aggregateId, timestamp, payload: { name } }\n  ) => {\n    // Build a data item based on the event data.\n    const shoppingList = {\n      id: aggregateId,\n      name,\n      createdAt: timestamp,\n    }\n    // Save the data item to the store's table 'ShoppingLists' table.\n    await store.insert('ShoppingLists', shoppingList)\n  },\n}\n")),(0,i.kt)("h5",{id:"used-api"},"Used API:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/resolve/docs/api/read-model/store"},"store")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/resolve/docs/api/read-model/store#definetable"},"store.defineTable")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/resolve/docs/api/read-model/store#insert"},"store.insert"))),(0,i.kt)("p",null,"The type of the physical store used to save data is defined by a Read Model connector:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"config.dev.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"// The 'config.dev.js' file defines setting used only in the development environment.\nconst devConfig = {\n  readModelConnectors: {\n    // This is the 'default' Read Model connector.\n    // It connects a Read Model to a SQLite data.\n    default: {\n      module: '@resolve-js/readmodel-lite',\n      options: {\n        databaseFile: 'data/read-models.db',\n      },\n    },\n    // You can reconfigure the connector to use other databases:\n    /*\n      default: {\n        module: '@resolve-js/readmodel-mysql',\n        options: {\n          host: 'localhost',\n          port: 3306,\n          user: 'customUser',\n          password: 'customPassword',\n          database: 'customDatabaseName'\n        }\n      }\n    */\n  },\n}\n")),(0,i.kt)("h5",{id:"used-configuration-options"},"Used configuration options:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/resolve/docs/application-configuration#readmodelconnectors"},"readModelConnectors"))),(0,i.kt)("p",null,"Next, implement a query resolver to answer data queries based on the data from the store."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"common/read-models/shopping_lists.resolvers.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"export default {\n  // The 'all' resolver returns all entries from the 'ShoppingLists' table.\n  all: async (store) => {\n    return await store.find('ShoppingLists', {}, null, { createdAt: 1 })\n  },\n}\n")),(0,i.kt)("h5",{id:"used-api-1"},"Used API:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/resolve/docs/api/read-model/store#find"},"store.find"))),(0,i.kt)("p",null,"Register the created Read Model in the application configuration file:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"config.app.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"...\nreadModels: [\n  {\n    // The Read Model's name\n    name: 'ShoppingLists',\n    // A path to the file that defines the Read Model projection\n    projection: 'common/read-models/shopping_lists.projection.js',\n    // A path to the file that defines the resolvers\n    resolvers: 'common/read-models/shopping_lists.resolvers.js',\n    // The name of the connector used to store the state\n    connectorName: 'default'\n  }\n],\n")),(0,i.kt)("h3",{id:"query-a-read-model"},"Query a Read Model"),(0,i.kt)("p",null,"Use the reSolve HTTP API to query the ShoppingLists Read Model:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},'$ curl -X POST \\\n-H "Content-Type: application/json" \\\n-d "{}" \\\n"http://localhost:3000/api/query/ShoppingLists/all"\n\n% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   186  100   184  100     2    844      9 --:--:-- --:--:-- --:--:--   906[\n  {\n    "id": "shopping-list-1",\n    "name": "List 1",\n    "createdAt": 1543325125945\n  },\n  {\n    "id": "shopping-list-2",\n    "name": "List 2",\n    "createdAt": 1543325129138\n  }\n]\n')),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"lesson-3---frontend---display-read-model-data-in-the-browser"},(0,i.kt)("strong",{parentName:"h2"},"Lesson 3")," - Frontend - Display Read Model Data in the Browser"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/reimagined/resolve/tree/master/tutorial/lesson-3"},"[","Get the Code for This Lesson","]")),(0,i.kt)("p",null,"This lesson describes how to display a Read Model's data in the client browser. The code in this lesson uses the reSolve framework's ",(0,i.kt)("strong",{parentName:"p"},"@resolve-js/redux")," library to implement a frontend based on React with hooks."),(0,i.kt)("p",null,"Refer to the ",(0,i.kt)("a",{parentName:"p",href:"/resolve/docs/frontend"},"Frontend")," article for information on other tools that you can use to implement a frontend."),(0,i.kt)("h3",{id:"implement-the-client-application"},"Implement the Client Application"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"The example project uses ",(0,i.kt)("strong",{parentName:"p"},"react-bootstrap")," to reduce the size of the markup To use this library, you should link the Bootstrap stylesheet file to the application's page. The example project's ",(0,i.kt)("strong",{parentName:"p"},"client/components/Header.js")," file demonstrates how to link static resources.")),(0,i.kt)("p",null,"First, implement a React component that renders a list of shopping list names. To do this, create a ",(0,i.kt)("strong",{parentName:"p"},"ShoppingLists.js")," file in the ",(0,i.kt)("strong",{parentName:"p"},"client/components")," subfolder and add the following code to this file:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"client/components/ShoppingLists.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react'\nimport { FormLabel, Table } from 'react-bootstrap'\n\nconst ShoppingLists = ({ lists }) => {\n  return (\n    <div>\n      <FormLabel>My shopping lists</FormLabel>\n      <Table responsive>\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Shopping List</th>\n          </tr>\n        </thead>\n        <tbody>\n          {lists.map(({ id, name }, index) => (\n            <tr key={id}>\n              <td>{index + 1}</td>\n              <td>{name}</td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n    </div>\n  )\n}\n\nexport default ShoppingLists\n")),(0,i.kt)("p",null,"Add a new component named ",(0,i.kt)("strong",{parentName:"p"},"MyLists"),". This component obtains shopping list data from reSolve and uses the ",(0,i.kt)("strong",{parentName:"p"},"ShoppingLists")," component to display this data. To obtain the data, use the ",(0,i.kt)("strong",{parentName:"p"},"@resolve-js/react-hooks")," library's ",(0,i.kt)("inlineCode",{parentName:"p"},"useQuery")," hook:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"client/components/MyLists.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import React, { useState, useEffect } from 'react'\n\nimport { useQuery } from '@resolve-js/react-hooks'\nimport ShoppingLists from './ShoppingLists'\n\nconst MyLists = () => {\n  const [lists, setLists] = useState({})\n\n  // The 'useQuery' hook is used to querry the 'ShoppingLists' Read Model's 'all' resolver.\n  // The obtained data is stored in the component's state.\n  const getLists = useQuery(\n    { name: 'ShoppingLists', resolver: 'all', args: {} },\n    (error, result) => {\n      // Obtain the data on the component's mount.\n      setLists(result)\n    }\n  )\n  useEffect(() => {\n    getLists()\n  }, [])\n\n  return (\n    <div\n      style={{\n        maxWidth: '580px',\n        margin: '0 auto',\n        paddingLeft: '10px',\n        paddingRight: '10px',\n      }}\n    >\n      <ShoppingLists lists={lists ? lists.data || [] : []} />\n    </div>\n  )\n}\n\nexport default MyLists\n")),(0,i.kt)("h5",{id:"used-api-2"},"Used API:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/resolve/docs/api/client/resolve-react-hooks#usequery"},"useQuery"))),(0,i.kt)("p",null,"Add the root component that defines the page's HEAD section and renders routes:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"client/components/App.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react'\nimport { renderRoutes } from 'react-router-config'\nimport Header from './Header'\n\nconst App = ({ route, children }) => (\n  <div>\n    {/*Define the HEAD section and register static resources.\n       See the 'client/components/Header' file for implementation details.\n    */}\n    <Header\n      title=\"ReSolve Shopping List Example\"\n      name=\"Shopping List\"\n      css={['/bootstrap.min.css']}\n    />\n    {renderRoutes(route.routes)}\n    {children}\n  </div>\n)\n\nexport default App\n")),(0,i.kt)("p",null,"The routes are defined as follows:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"client/routes.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"import App from './components/App'\nimport MyLists from './components/MyLists'\n\nexport default [\n  {\n    component: App,\n    routes: [\n      {\n        path: '/',\n        component: MyLists,\n        exact: true,\n      },\n    ],\n  },\n]\n")),(0,i.kt)("h3",{id:"configure-the-entry-point"},"Configure the Entry Point"),(0,i.kt)("p",null,"A client entry point is a function that receives a ",(0,i.kt)("inlineCode",{parentName:"p"},"context")," object as a parameter. Pass this object to the @resolve-js/react-hooks library to connect it to a reSolve backend. You can implement an entry point as shown below:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"client/index.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react'\nimport { render } from 'react-dom'\nimport { ResolveContext } from '@resolve-js/react-hooks'\nimport { BrowserRouter } from 'react-router-dom'\nimport { renderRoutes } from 'react-router-config'\n\nimport routes from './routes'\n\n// The 'context' object contains metadata required by the '@resolve-js/react-hooks'\n// library to connect to the reSolve backend.\nconst entryPoint = (context) => {\n  const appContainer = document.createElement('div')\n  document.body.appendChild(appContainer)\n  render(\n    <ResolveContext.Provider value={context}>\n      <BrowserRouter>{renderRoutes(routes)}</BrowserRouter>\n    </ResolveContext.Provider>,\n    appContainer\n  )\n}\n\nexport default entryPoint\n")),(0,i.kt)("h3",{id:"register-the-entry-point"},"Register the Entry Point"),(0,i.kt)("p",null,"Register the client entry point in the application's configuration file as shown below:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"config.app.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"const appConfig = {\n  ...\n  clientEntries: ['client/index.js'],\n}\n\nexport default appConfig\n")),(0,i.kt)("p",null,"Run your application to view the result:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"result",src:n(430).Z})),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"lesson-4---read-side---create-a-view-model-to-query-shopping-list-items"},(0,i.kt)("strong",{parentName:"h2"},"Lesson 4")," - Read Side - Create a View Model to Query Shopping List Items"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/reimagined/resolve/tree/master/tutorial/lesson-4"},"[","Get the Code for This Lesson","]")),(0,i.kt)("p",null,"This lesson describes how you can use a View Model to obtain shopping list items and display them as a list within the client browser."),(0,i.kt)("p",null,"A View Model is a reactive Read Model that is built on the fly for one or several aggregate IDs. A client can maintain a WebSocket connection with a resolve server to receive View Model data updates in real time."),(0,i.kt)("p",null,"The downside is that View Models do not have persistent state and should be rebuilt on every query, so they are better suited for small data samples."),(0,i.kt)("h3",{id:"create-a-shopping-list-view-model"},"Create a Shopping List View Model"),(0,i.kt)("p",null,"Add a ",(0,i.kt)("strong",{parentName:"p"},"shopping_list.projection.js")," file in the ",(0,i.kt)("strong",{parentName:"p"},"common/view-models")," directory. Add the following code to this file:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"common/view-models/shopping_list.projection.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import { SHOPPING_LIST_CREATED, SHOPPING_ITEM_CREATED } from '../eventTypes'\n\n// A View Model's projection is defined in a format that is isomorphic with a Redux reducer format.\nexport default {\n  // The 'Init' function initializes the View Model's state object.\n  Init: () => ({\n    id: 'id',\n    name: 'unnamed',\n    list: [],\n  }),\n  // Below is a projection function. It runs on every event of the specified type, whose aggregate Id matches one of the Ids specified in the query.\n  // A View Model projection takes the state and returns its updated version based on the event data.\n  // When all events are applied, the built state is passed to the client in the response body.\n  [SHOPPING_LIST_CREATED]: (state, { aggregateId, payload: { name } }) => ({\n    // Assign the actual aggregate ID and name to the response.\n    id: aggregateId,\n    name,\n    list: [],\n  }),\n  [SHOPPING_ITEM_CREATED]: (state, { payload: { id, text } }) => ({\n    ...state,\n    // Add a shopping list item to a list within the state object.\n    list: [\n      ...state.list,\n      {\n        id,\n        text,\n        checked: false,\n      },\n    ],\n  }),\n}\n")),(0,i.kt)("p",null,"Register the View Model in the application configuration file:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"config.app.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"const appConfig = {\n  ...\n  viewModels: [\n    {\n      name: 'shoppingList',\n      projection: 'common/view-models/shopping_list.projection.js'\n    }\n  ]\n}\nexport default appConfig\n")),(0,i.kt)("h3",{id:"query-a-view-model"},"Query A View Model"),(0,i.kt)("p",null,"You can use the reSolve HTTP API to query a View Model:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'$  curl -i -g -X GET "http://localhost:3000/api/query/shoppingList/shopping-list-1"\nHTTP/1.1 200 OK\nX-Powered-By: Express\nContent-Type: text/html; charset=utf-8\nContent-Length: 50\nETag: W/"32-QoPdRfMTxfncCZnYSqRYIDifC/w"\nDate: Fri, 16 Nov 2018 12:10:58 GMT\nConnection: keep-alive\n\n{\n  "id": "shopping-list-1",\n  "name": "List 1",\n  "list": [\n    {\n      "id": "1",\n      "text": "Milk",\n      "checked": false\n    },\n    {\n      "id": "2",\n      "text": "Eggs",\n      "checked": false\n    },\n    {\n      "id": "3",\n      "text": "Canned beans",\n      "checked": false\n    },\n    {\n      "id": "4",\n      "text": "Paper towels",\n      "checked": false\n    }\n  ]\n}\n')),(0,i.kt)("h3",{id:"display-view-model-data-on-the-client"},"Display View Model Data on the Client"),(0,i.kt)("p",null,"Add the following React components to your client application to display shopping list items:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"client/components/ShoppingListItem.js:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react'\nimport { ListGroupItem, FormCheck } from 'react-bootstrap'\n\nconst ShoppingListItem = ({ item: { id, text } }) => {\n  return (\n    <ListGroupItem key={id}>\n      <FormCheck inline type=\"checkbox\" label={text} />\n    </ListGroupItem>\n  )\n}\n\nexport default ShoppingListItem\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"client/components/ShoppingList.js:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"import React, { useState, useEffect } from 'react'\nimport { useViewModel } from '@resolve-js/react-hooks'\n\nimport { ListGroup, FormControl, FormGroup, FormLabel } from 'react-bootstrap'\n\nimport ShoppingListItem from './ShoppingListItem'\n\n// The shopping list populated with items obtained from the ShoppingList View Model.\nconst ShoppingList = ({\n  match: {\n    params: { id: aggregateId },\n  },\n}) => {\n  const [shoppingList, setShoppingList] = useState({\n    name: '',\n    id: null,\n    list: [],\n  })\n  // The UseViewModel hook connects the component to a View Model\n  // and reactively updates the component's state when the View Model's\n  // data is updated.\n  const { connect, dispose } = useViewModel(\n    'shoppingList', // The View Model's name.\n    [aggregateId], // The aggregate ID for which to query data.\n    setShoppingList // A callback to call when new data is recieved.\n  )\n\n  useEffect(() => {\n    // Connect to a View Model on component mount and disconnect on unmount.\n    connect()\n    return () => {\n      dispose()\n    }\n  }, [])\n\n  return (\n    <div\n      style={{\n        maxWidth: '580px',\n        margin: '0 auto',\n        paddingLeft: '10px',\n        paddingRight: '10px',\n      }}\n    >\n      <FormLabel>Shopping list name</FormLabel>\n      <FormGroup bssize=\"large\">\n        <FormControl type=\"text\" value={shoppingList.name} readOnly />\n      </FormGroup>\n      <ListGroup>\n        {shoppingList.list.map((item, idx) => (\n          <ShoppingListItem key={idx} item={item} />\n        ))}\n      </ListGroup>\n    </div>\n  )\n}\n\nexport default ShoppingList\n")),(0,i.kt)("h5",{id:"used-api-3"},"Used API:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/resolve/docs/api/client/resolve-react-hooks#useviewmodel"},"useViewModel"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"List Items",src:n(6635).Z})),(0,i.kt)("h3",{id:"implement-navigation"},"Implement Navigation"),(0,i.kt)("p",null,"Modify the ",(0,i.kt)("strong",{parentName:"p"},"ShoppingLists")," component's layout as shown below to render links to shopping lists."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"client/components/ShoppingLists.js:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"const ShoppingLists = ({ lists }) => {\n  return (\n    <div>\n      ...\n      <tbody>\n        {lists.map(({ id, name }, index) => (\n          <tr key={id}>\n            <td>{index + 1}</td>\n            <td>\n              <Link to={`/${id}`}>{name}</Link>\n            </td>\n          </tr>\n        ))}\n      </tbody>\n      ...\n    </div>\n  )\n}\n")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"List Items",src:n(6911).Z})),(0,i.kt)("p",null,"Run the application and click a shopping list's name view the result. To test the View Model's reactiveness, keep the page opened and use the following console input to add a shopping list item:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'curl -i http://localhost:3000/api/commands/ \\\n--header "Content-Type: application/json" \\\n--data \'\n{\n    "aggregateName": "ShoppingList",\n    "aggregateId": <your_shopping_list`s_aggregate_id>,\n    "type": "createShoppingItem",\n    "payload": {\n        "id": "5",\n        "text": "Bread"\n    }\n}\n\'\n')),(0,i.kt)("p",null,"The page is automatically updated to display the new item."),(0,i.kt)("h2",{id:"lesson-5---enable-editing"},(0,i.kt)("strong",{parentName:"h2"},"Lesson 5")," - Enable Editing"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/reimagined/resolve/tree/master/tutorial/lesson-5"},"[","Get the Code for This Lesson","]")),(0,i.kt)("p",null,"This lesson describes how to implement missing data editing functionality on the reSolve backend and enable data editing on the frontend."),(0,i.kt)("h3",{id:"modify-the-backend"},"Modify the Backend"),(0,i.kt)("p",null,"Currently your reSolve application can create shopping lists and their items. The application also requires the capability to toggle shopping list items as well as remove and items and entire lists."),(0,i.kt)("p",null,"To implement the missing functionality, you need to add data editing events, modify the ShoppingList aggregate to produce these events, and update read and view models to take these events into account."),(0,i.kt)("h4",{id:"add-data-editing-events"},"Add Data Editing Events"),(0,i.kt)("p",null,"Define events related to data editing in the ",(0,i.kt)("strong",{parentName:"p"},"common/eventTypes.js")," file."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"common/eventTypes.js:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"...\nexport const SHOPPING_LIST_REMOVED = 'SHOPPING_LIST_REMOVED' // Indicates that a shopping list was removed.\nexport const SHOPPING_ITEM_TOGGLED = 'SHOPPING_ITEM_TOGGLED' // Indicates that a list item was toggled.\nexport const SHOPPING_ITEM_REMOVED = 'SHOPPING_ITEM_REMOVED' // Indicates that an item was removed.\n")),(0,i.kt)("h4",{id:"modify-the-shoppinglist-aggregate"},"Modify the ShoppingList Aggregate"),(0,i.kt)("p",null,"Add the following command handlers to the ShoppingList aggregate to validate the commands and produce the corresponding events:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"common/aggregates/shopping_lists.commands.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import {\n    ...\n    SHOPPING_LIST_REMOVED,\n    SHOPPING_ITEM_TOGGLED,\n    SHOPPING_ITEM_REMOVED,\n  } from '../eventTypes'\n\n  export default {\n    ...\n    removeShoppingList: (state) => {\n      if (!state.createdAt) {\n        throw new Error('Shopping List does not exist')\n      }\n\n      return {\n        type: SHOPPING_LIST_REMOVED,\n      }\n    },\n    toggleShoppingItem: (state, { payload: { id } }) => {\n      if (!state.createdAt) {\n        throw new Error('Shopping List does not exist')\n      }\n\n      if (!id) {\n        throw new Error('The \"id\" field is required')\n      }\n\n      return {\n        type: SHOPPING_ITEM_TOGGLED,\n        payload: { id },\n      }\n    },\n    removeShoppingItem: (state, { payload: { id } }) => {\n      if (!state.createdAt) {\n        throw new Error('Shopping List does not exist')\n      }\n\n      if (!id) {\n        throw new Error('The \"id\" field is required')\n      }\n\n      return {\n        type: SHOPPING_ITEM_REMOVED,\n        payload: { id },\n      }\n    },\n  }\n")),(0,i.kt)("h4",{id:"modify-the-shoppinglists-read-model"},"Modify the ShoppingLists Read Model"),(0,i.kt)("p",null,"Define a projection function for the 'SHOPPING_LIST_REMOVED' event in the ShoppingLists Read Model's projection:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"common/read-models/shopping_lists.projection.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import {\n    ...\n    SHOPPING_LIST_REMOVED,\n  } from '../eventTypes'\n\n  export default {\n    ...\n    [SHOPPING_LIST_REMOVED]: async (store, { aggregateId }) => {\n      await store.delete('ShoppingLists', { id: aggregateId })\n    },\n\n  }\n")),(0,i.kt)("h4",{id:"modify-the-shopping_list-view-model"},"Modify the shopping_list View Model"),(0,i.kt)("p",null,"In the ShoppingList View Model projection, add the following projection functions:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"common/view-models/shopping_list.projection.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import {\n  ...\n  SHOPPING_LIST_REMOVED,\n  SHOPPING_ITEM_TOGGLED,\n  SHOPPING_ITEM_REMOVED,\n} from '../eventTypes'\n\nexport default {\n  ...\n  [SHOPPING_LIST_REMOVED]: () => ({\n    removed: true,\n  }),\n  [SHOPPING_ITEM_TOGGLED]: (state, { payload: { id } }) => ({\n    ...state,\n    list: state.list.map((item) =>\n      item.id === id\n        ? {\n            ...item,\n            checked: !item.checked,\n          }\n        : item\n    ),\n  }),\n  [SHOPPING_ITEM_REMOVED]: (state, { payload: { id } }) => ({\n    ...state,\n    list: state.list.filter((item) => item.id !== id),\n  }),\n}\n")),(0,i.kt)("h3",{id:"modify-the-frontend"},"Modify the Frontend"),(0,i.kt)("p",null,"Add a React component that creates shopping lists. The component renders a text input for a shopping list's name and an 'Add Shopping List' button."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"client/components/ShoppingListCreator.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"import React, { useState } from 'react'\nimport { Button, Col, FormLabel, FormControl, Row } from 'react-bootstrap'\nimport { useCommand } from '@resolve-js/react-hooks'\nimport { v4 as uuid } from 'uuid'\n\nconst ShoppingListCreator = ({ lists, onCreateSuccess }) => {\n  const [shoppingListName, setShoppingListName] = useState('')\n\n  // The useCommandHook allows you send commands to reSolve.\n  const createShoppingListCommand = useCommand(\n    {\n      type: 'createShoppingList',\n      aggregateId: uuid(),\n      aggregateName: 'ShoppingList',\n      payload: {\n        name: shoppingListName || `Shopping List ${lists.length + 1}`,\n      },\n    },\n    (err, result) => {\n      setShoppingListName('')\n      // A callback user to pass info about a newly created shopping list to the parrent component.\n      onCreateSuccess(err, result)\n    }\n  )\n\n  const updateShoppingListName = (event) => {\n    setShoppingListName(event.target.value)\n  }\n\n  const onShoppingListNamePressEnter = (event) => {\n    if (event.charCode === 13) {\n      event.preventDefault()\n      createShoppingListCommand()\n    }\n  }\n\n  return (\n    <div>\n      <FormLabel>Shopping list name</FormLabel>\n      <Row>\n        <Col md={8}>\n          <FormControl\n            type=\"text\"\n            value={shoppingListName}\n            onChange={updateShoppingListName}\n            onKeyPress={onShoppingListNamePressEnter}\n          />\n        </Col>\n        <Col md={4}>\n          <Button bstyle=\"success\" onClick={createShoppingListCommand}>\n            Add Shopping List\n          </Button>\n        </Col>\n      </Row>\n    </div>\n  )\n}\n\nexport default ShoppingListCreator\n")),(0,i.kt)("h5",{id:"used-api-4"},"Used API:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/resolve/docs/api/client/resolve-react-hooks#usecommand"},"useCommand"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Shopping List Creator",src:n(9761).Z})),(0,i.kt)("p",null,"You can render this component within 'MyLists' as shown below:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"client/components/MyLists.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"const MyLists = () => {\n  ...\n  return (\n    <div>\n      ...\n      <ShoppingListCreator\n        lists={lists ? lists.data || [] : []}\n        onCreateSuccess={(err, result) => { // Use a callback to handle the creation of new lists\n          const nextLists = { ...lists }\n          nextLists.data.push({\n            name: result.payload.name,\n            createdAt: result.timestamp,\n            id: result.aggregateId,\n          })\n          setLists(nextLists)\n        }}\n      />\n    </div>\n  )\n}\n")),(0,i.kt)("p",null,"The following component implements a ",(0,i.kt)("strong",{parentName:"p"},"Delete")," button for a shopping list:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"client/components/ShoppingListRemover.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react'\nimport { Button } from 'react-bootstrap'\nimport { useCommand } from '@resolve-js/react-hooks'\n\nconst ShoppingListRemover = ({ shoppingListId, onRemoveSuccess }) => {\n  // A command to remove the list\n  const removeShoppingListCommand = useCommand(\n    {\n      type: 'removeShoppingList',\n      aggregateId: shoppingListId,\n      aggregateName: 'ShoppingList',\n    },\n    onRemoveSuccess\n  )\n\n  return <Button onClick={removeShoppingListCommand}>Delete</Button>\n}\n\nexport default ShoppingListRemover\n")),(0,i.kt)("h5",{id:"used-api-5"},"Used API:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/resolve/docs/api/client/resolve-react-hooks#usecommand"},"useCommand"))),(0,i.kt)("p",null,"Add this component to each item in the ShoppingLists component's layout:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"client/components/ShoppingLists.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"const ShoppingLists = ({ lists, onRemoveSuccess }) => {\n  return (\n    <div>\n        ...\n        <tbody>\n          {lists.map(({ id, name }, index) => (\n            <tr key={id}>\n              <td>{index + 1}</td>\n              <td>\n                <Link to={`/${id}`}>{name}</Link>\n              </td>\n              <td>\n                <ShoppingListRemover\n                  shoppingListId={id}\n                  onRemoveSuccess={onRemoveSuccess}\n                />\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n    </div>\n  )\n}\n\nexport default ShoppingLists\n")),(0,i.kt)("p",null,"Also add an ",(0,i.kt)("inlineCode",{parentName:"p"},"onRemoveSuccess")," handler to MyLists:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"client/components/MyLists.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},'const MyLists = () => {\n  ...\n  return (\n    <div style={{maxWidth: "580px", margin: "0 auto", paddingLeft: "10px", paddingRight: "10px"}}>\n      <ShoppingLists\n        lists={lists ? lists.data || [] : []}\n        onRemoveSuccess={(err, result) => {\n          setLists({\n          ...lists,\n          data: lists.data.filter((list) => list.id !== result.aggregateId),\n         })\n      }}\n      />\n      ...\n    </div>\n  )\n}\n')),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Delete Shopping List",src:n(8141).Z})),(0,i.kt)("p",null,"The code below demonstrates how to implement data editing for the ShoppingList component:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"client/components/ShoppingList.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"import React, { useState, useEffect } from 'react'\nimport { useCommandBuilder, useViewModel } from '@resolve-js/react-hooks'\n\nimport {\n  Row,\n  Col,\n  ListGroup,\n  Button,\n  FormControl,\n  FormGroup,\n  FormLabel,\n} from 'react-bootstrap'\n\nimport ShoppingListItem from './ShoppingListItem'\n\nconst ShoppingList = ({\n  match: {\n    params: { id: aggregateId },\n  },\n}) => {\n  const [shoppingList, setShoppingList] = useState({\n    name: '',\n    id: null,\n    list: [],\n  })\n  const { connect, dispose } = useViewModel(\n    'shoppingList',\n    [aggregateId],\n    setShoppingList\n  )\n  const [itemText, setItemText] = useState('')\n  const clearItemText = () => setItemText('')\n\n  // The useCommandBuilder hook creates a function that generates commands based on a parameter\n  const createShoppingItem = useCommandBuilder(\n    (text) => ({\n      type: 'createShoppingItem',\n      aggregateId,\n      aggregateName: 'ShoppingList',\n      payload: {\n        text,\n        id: Date.now().toString(),\n      },\n    }),\n    clearItemText\n  )\n\n  const updateItemText = (event) => {\n    setItemText(event.target.value)\n  }\n  const onItemTextPressEnter = (event) => {\n    if (event.charCode === 13) {\n      event.preventDefault()\n      createShoppingItem(itemText)\n    }\n  }\n\n  useEffect(() => {\n    connect()\n    return () => {\n      dispose()\n    }\n  }, [])\n\n  return (\n    <div\n      style={{\n        maxWidth: '580px',\n        margin: '0 auto',\n        paddingLeft: '10px',\n        paddingRight: '10px',\n      }}\n    >\n      <FormLabel>Shopping list name</FormLabel>\n      <FormGroup bssize=\"large\">\n        <FormControl type=\"text\" value={shoppingList.name} readOnly />\n      </FormGroup>\n      <ListGroup>\n        {shoppingList.list.map((item, idx) => (\n          <ShoppingListItem\n            shoppingListId={aggregateId}\n            key={idx}\n            item={item}\n          />\n        ))}\n      </ListGroup>\n      <FormLabel>Item name</FormLabel>\n      <Row>\n        <Col md={8}>\n          <FormControl\n            type=\"text\"\n            value={itemText}\n            onChange={updateItemText}\n            onKeyPress={onItemTextPressEnter}\n          />\n        </Col>\n        <Col md={4}>\n          <Button\n            bsstyle=\"success\"\n            onClick={() => createShoppingItem(itemText)}\n          >\n            Add Item\n          </Button>\n        </Col>\n      </Row>\n    </div>\n  )\n}\n\nexport default ShoppingList\n")),(0,i.kt)("h5",{id:"used-api-6"},"Used API:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/resolve/docs/api/client/resolve-react-hooks#usecommandbuilder"},"useCommandBuilder")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/resolve/docs/api/client/resolve-react-hooks#useviewmodel"},"useViewModel"))),(0,i.kt)("p",null,"Modify the ShoppingListItem component to support item checking and deletion."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"client/components/ShoppingListItem.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react'\nimport { ListGroupItem, FormCheck, Button } from 'react-bootstrap'\nimport { useCommand } from '@resolve-js/react-hooks'\n\nconst ShoppingListItem = ({ shoppingListId, item: { id, checked, text } }) => {\n  const toggleItem = useCommand({\n    type: 'toggleShoppingItem',\n    aggregateId: shoppingListId,\n    aggregateName: 'ShoppingList',\n    payload: {\n      id,\n    },\n  })\n  const removeItem = useCommand({\n    type: 'removeShoppingItem',\n    aggregateId: shoppingListId,\n    aggregateName: 'ShoppingList',\n    payload: {\n      id,\n    },\n  })\n  return (\n    <ListGroupItem key={id}>\n      <FormCheck\n        inline\n        type=\"checkbox\"\n        label={text}\n        checked={checked}\n        onChange={toggleItem}\n      />\n      <Button className=\"float-right\" onClick={removeItem}>\n        Delete\n      </Button>\n    </ListGroupItem>\n  )\n}\n\nexport default ShoppingListItem\n")),(0,i.kt)("h5",{id:"used-api-7"},"Used API:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/resolve/docs/api/client/resolve-react-hooks#usecommand"},"useCommand"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Check List Item",src:n(2250).Z})))}c.isMDXComponent=!0},430:(e,t,n)=>{n.d(t,{Z:()=>a});const a="data:image/png;base64,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"},6635:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lesson4-list-items-52757a83bb7c6074b2d3802d1be16529.png"},6911:(e,t,n)=>{n.d(t,{Z:()=>a});const a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlIAAACBCAYAAAAL6lTbAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TpaIVBzuIOGSo4mBBtIijVLEIFkpboVUHk0u/oElDkuLiKLgWHPxYrDq4OOvq4CoIgh8gbm5Oii5S4v+SQosYD4778e7e4+4dIDQqTDW7JgFVs4xUPCZmc6ti4BUCguhDFOMSM/VEejEDz/F1Dx9f7yI8y/vcn6NfyZsM8InEc0w3LOIN4plNS+e8TxxiJUkhPieeMOiCxI9cl11+41x0WOCZISOTmicOEYvFDpY7mJUMlThKHFZUjfKFrMsK5y3OaqXGWvfkLwzmtZU012mOII4lJJCECBk1lFGBhQitGikmUrQf8/APO/4kuWRylcHIsYAqVEiOH/wPfndrFqan3KRgDOh+se2PUSCwCzTrtv19bNvNE8D/DFxpbX+1Acx+kl5va+EjYGAbuLhua/IecLkDDD3pkiE5kp+mUCgA72f0TTlg8BboXXN7a+3j9AHIUFfLN8DBITBWpOx1j3f3dPb275lWfz+wxHLA9M5EUAAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+UCDAwFAM4mwWgAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAKHElEQVR42u3dX2hcV34H8O90zbZb+hKwWDvZhEZ2BDGt13+yeJuA6lKSZsHNwyrYxAuLalRwwK/rxPHmyWsn6DnQPCheU2iMg/VUw5qYEncWJ2sXy25KDVFspTSrRCCzpi8lXjy6+zB/NJLGtmTL0oz8+cCgmdGdM1fnXpjv/M65R6WiKIoAALBgf6QLAAAEKQAAQQoAQJACABCkAAAQpAAABCkAAEEKAECQAgAQpAAAEKQAAAQpAABBCgBAkAIAEKQAABCkAAAEKQAAQQoAQJACAECQAgBYBKvut4EvvvxaLwIAHeXJx9cuSjuloigK3QkAsHCG9gAABCkAAEEKAECQAgAQpAAAEKQAAAQpAABBCgBAkAIAEKQAABCkAAAEKQAAQQoAQJACABCkAAAQpAAABCkAAEEKpl3OkZ4N6e7ZkD3D19tu7yaH96a7Z0O6B4Yz2RZ7dD0fDLRvfwGwzEFqZLDpQ+viYLp7NuTIRQelkzXCyIzbYEbafs+v56Nflat3y9fy5RIHpe7By3N/PfHvOV3bpbPXfuvkAhCkml3O6aEkPevSlWTyf8aS9OfFrQ5KZ6qGgm0Hyh26/6vzNz/qrd7tXZfH22GX1vx1Xqzt0vZ131tYkG0VzABYdKuW7Z0nruVqkoG/3ZQk+fJaOel9vj0+wFi4i0fzei1DbX+rnKN9q5sC1tGO+BO6+t7NWF97hbudQ1eycwFhtlFVA2BJLENFqjZPpvfNnE0y9Ep1aOPloSTlN7OtZ28+mHBgVo7V2Tm0P1ta/GbGMOCceUlNw1632Wb69YMZaZp/NXtO0chg0+snhrOnabvmoeQZ2yVJ07ZHLjb9vlXFZ067izEfrFUbt+mXieHs6elthNkM7Ta3CmBlBqlNeWP0Ss6/1ZukPydHr2SsfCjbkwwcv5Kx0Xezc40D03G2vpCB2t2zB3rvOt/t7IHemcOA5TfzWv1Df3YoaNpmW8v5VmN5Z2B3hma1P/f9z+S1WoCvG3plfsH96j/trYb9TAeVRvsTw9kzp92Z+7M4rueDgRb9AsDDFKSqHwgf/aqcDLyQLUkmz53J2fRm/WMOSOfalDdG32+EqWqY2HCHQFUL0U2vqU+oHvnneiipbzMdtpNjeWdOlaWc/Khc3a6pvaF/m1U1Kpez/vjs9so5fe7uVZuzeT7nZ7xuuv1W+1v9orDYfpurTcOnY/W+GepL15q+HB0t5+362w68n7HRK01DrACsiCBVHY6pfauuDT9UKxPlvN5rKKLzw9TMMFMNVHOrPtvf2lMb7vte1tc//EevZTLXc3W0HgZemB4SbJp4PfcKtv7sawSGTXlxoLm9Jr2H8o9b59PeXAOv9qVr1uvqXwpa7W9X394ZfbBY/Vv/2+pVv/ZZqgFAkFoSXX3vZux4f/Vz5/iVjNW/RfsGveIC1XRVZn5Vn6rpqktnWNr93bJ/VrXLvEKAhytIJbOWOqitlTPfy7tpUxcH73jJ/fo/n29AbqooDX04PR+qaU2luefKsZxumq/0Tn1yUm1pjenQcSYf1QNH81WG93XuNVXUmvZ3cvjdBzBHqunLyKzhyavjTkGA5bAsyx/MWOpg/FrOpjdvP6cS1fGGdqe7ZXpY2PpgW356KNuH3szZHMvLPcfmtLWvRdVy6JUNs4JLb97+6aZZW1WHj1+fR3vztzo7X+3P6+VjScv9vce+6z2U80PrZm10OUd6Wk1ir/fv6qzvSVKebm/mUhQALLZlqUht2V+bIJskW/e7Um8laLpqb4aB9zM22nr5g9ta05ejs+ZZ3bmt/pysDRc3QlS5xTnVeygnZ0wC78/Jhe5by799/6zJ5f052Wr/H4iZf8OW/Uv1vgAkSakoikI30Ikmh/fWLlS4cyAaGaytU9Z7KOfrAf5BuziY7leOVfPf8St5w4r9ACuSf1oM92tiOEdmXG16OUdqIcq/PQJY2VbpArh/Vw/0pvvA3OcHji/C0CEAghQ8XBZp/hUAbc0cKQCAe2SOFACAIAUAIEgBAAhSAACCFAAAghQAgCAFACBIAQAIUgAAghQAAIIUAIAgBQAgSAEArBCr7reBL778Wi8CAB3lycfXLko7KlIAAPeoVBRFoRsAABZORQoAQJACABCkAAAEKQAAQQoAAEEKAECQAgAQpAAABCkAAEEKAABBCgBAkAIAEKQAAAQpAABBCgAAQQoAQJACABCkIEkyeSl9u07l8Ke6AgBBavE+X4f3pnvwsiOxAkycPpPSzy9lYrne+73PHQQAltSq5XrjkcENeXmo9mBgryOx0nVtzvCJzfPc+PMc3vVZcnBHDm6885afvHcqz35Ye/CCbgZgaS1PReriYF4e6s/J0Ss5OeAgcI8+PZdnP3wkH5/YkY+FKACWwfJUpLbuz9ho9e6IY/BwmLyUvn3X0/fO89ndVX1qRjUpyS8O7sjBnEvp8I3qE4dP5ef151tVpjY+l+JErS09DMBDE6R46E2cPpNnv3gsX5/YnDVJ8um5HG6Eo/kP7QGAIMVD54vxm8mTf1YNUbUAdVC3ANBhLH/Asvirlx7Ljz/8LKVdZ/L+pP4AQJCC+evanOETO1Ic/NP8ZN8pgQoAQQoWbONzKU78MP/y1M0MX7yuPwAQpOBuPnnv3B2utHskTz6VjHwlWAHQ3kw2Z3F9Pp61u8ZnPPWLgztycO3sDW/k2V2nGo9+/A8/zPCLq2uPVmf3zkfyk8O/SemXd1j+AACWWakoikI3AAAsnIoUi5PIm6pLD8wHf1/9ufNf77pp//bH88tXv+/AAPBgP/9UpOiIE7VUSv1Ubb4PAMvJZHM6wre+/WjL+wAgSAEACFIAAIIUtLVVf/xYSqWSjgBAkIKFunVzPBcuXEqpVBKqABCkYKF+8INN+da3H22EKoEKAEEK7sEzz1TXjPr4k/8QpgBYMhbkpC01h6G7rRk1NTWVqampJMmWzX+ZX//6E2tNASBI8XAb/2qiEaqa1466dXM8RVGkKIrc/P//TaVSaYSmSqWSTZv+wlpTACwJQ3u0tUfXfndOZakoikYVqlKpNH7+3+9Gc+vWrdy6dUvHAbAkVKRoS0VRpFQqZfyriTy69rt57Wf7GlWoqampGWGq1Q0ABCmEqVIpU1NTeemlv2uEpNuFqHp1SpACQJCCmvMXRvLM1u835kK1Ck7Nj0cu/VeefvopHQfAA1cqXNpEu5+kpVK++eab2w7jNQeqSqWSJ554IklctQfAA2eyOR3hwoVLqVQqjVt9UvnsW6VSybqebUIUAEvC0B5trz5X6saNG3cd1rv8n/+d73znT3QaAEvC0B6dcaKWSjlz5mw2bnz6tmFqamoqPT09jfAFAA+aihQdobEcwvj4HZc9WNezLVc/+40OA0CQgmbrerY15kg1h6fZV/IBwFIxtEfnnKyz/lVMK5Xff2VYD4AloyJFxxCQAGg3lj8AABCkAAAEKQCAjvAHL0VO/+hNUwAAAAAASUVORK5CYII="},2250:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lesson5-check-item-c3ce7e7e0233545a0a4b50c94cb5747e.png"},8141:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/lesson5-delete-e09287a9de26a24e02814729b557203d.png"},9761:(e,t,n)=>{n.d(t,{Z:()=>a});const a="data:image/png;base64,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"}}]);